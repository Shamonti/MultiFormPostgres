<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>MultiFormData</title>
  </head>
  <body>
    <div class="container">
      <form method="post">
        {% csrf_token %}
        <div class="form-group pt-5" id="form-group-container">
          <div class="mb-3">
            <label for="name_1" class="form-label">Name</label>
            <input type="name" class="form-control" id="name_1" name="name_1" />
          </div>
          <div class="mb-3">
            <label for="email_1" class="form-label">Email address</label>
            <input
              type="email"
              class="form-control"
              id="email_1"
              name="email_1"
            />
          </div>
          <div class="mb-3">
            <label for="phone_1" class="form-label">Phone</label>
            <input
              type="phone"
              class="form-control"
              id="phone_1"
              name="phone_1"
            />
          </div>
          <div class="mb-3">
            <label for="address_1" class="form-label">Address</label>
            <input
              type="address"
              class="form-control"
              id="address_1"
              name="address_1"
            />
          </div>
        </div>

        <button type="button" class="btn btn-primary" id="add-form-group">
          ADD
        </button>

        <div class="row">
          <div class="offset-md-10 col-md-2 d-flex justify-content-end">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </div>
      </form>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- <script>
      document.addEventListener('DOMContentLoaded', function () {
        const addButton = document.getElementById('add-form-group');
        const formGroupContainer = document.getElementById(
          'form-group-container'
        );

        addButton.addEventListener('click', function () {
          const newFormGroup = document.createElement('div');
          newFormGroup.className = 'mb-3';

          const lineBreak = document.createElement('br');

          const nameLabel = document.createElement('label');
          nameLabel.className = 'form-label';
          nameLabel.textContent = 'Name';

          const nameInput = document.createElement('input');
          nameInput.type = 'text';
          nameInput.className = 'form-control';
          nameInput.name = 'name';

          const emailLabel = document.createElement('label');
          emailLabel.className = 'form-label';
          emailLabel.textContent = 'Email';

          const emailInput = document.createElement('input');
          emailInput.type = 'email';
          emailInput.className = 'form-control';
          emailInput.name = 'email';

          const phoneLabel = document.createElement('label');
          phoneLabel.className = 'form-label';
          phoneLabel.textContent = 'Phone';

          const phoneInput = document.createElement('input');
          phoneInput.type = 'text';
          phoneInput.className = 'form-control';
          phoneInput.name = 'phone';

          const addressLabel = document.createElement('label');
          addressLabel.className = 'form-label';
          addressLabel.textContent = 'Address';

          const addressInput = document.createElement('input');
          addressInput.type = 'text';
          addressInput.className = 'form-control';
          addressInput.name = 'address';

          newFormGroup.appendChild(lineBreak);
          newFormGroup.appendChild(nameLabel);
          newFormGroup.appendChild(nameInput);
          newFormGroup.appendChild(emailLabel);
          newFormGroup.appendChild(emailInput);
          newFormGroup.appendChild(phoneLabel);
          newFormGroup.appendChild(phoneInput);
          newFormGroup.appendChild(addressLabel);
          newFormGroup.appendChild(addressInput);

          formGroupContainer.appendChild(newFormGroup);
        });
      });
    </script> -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const addButton = document.getElementById('add-form-group');
        const formGroupContainer = document.getElementById(
          'form-group-container'
        );
        const lineBreak = document.createElement('br');
        let formIndex = 1;

        addButton.addEventListener('click', function () {
          formIndex++;

          const newFormGroup = document.createElement('div');
          newFormGroup.className = 'mb-3';

          const nameInput = createInput('name', formIndex);
          const emailInput = createInput('email', formIndex);
          const phoneInput = createInput('phone', formIndex);
          const addressInput = createInput('address', formIndex);

          newFormGroup.appendChild(lineBreak);
          newFormGroup.appendChild(nameInput.label);
          newFormGroup.appendChild(nameInput.input);
          newFormGroup.appendChild(emailInput.label);
          newFormGroup.appendChild(emailInput.input);
          newFormGroup.appendChild(phoneInput.label);
          newFormGroup.appendChild(phoneInput.input);
          newFormGroup.appendChild(addressInput.label);
          newFormGroup.appendChild(addressInput.input);

          formGroupContainer.appendChild(newFormGroup);
        });

        function createInput(type, index) {
          const label = document.createElement('label');
          label.className = 'form-label';
          label.setAttribute('for', `${type}_${index}`);
          label.textContent = type.charAt(0).toUpperCase() + type.slice(1);

          const input = document.createElement('input');
          input.type = type;
          input.className = 'form-control';
          input.id = `${type}_${index}`;
          input.name = `${type}_${index}`;

          return { label, input };
        }
      });
    </script>
  </body>
</html>
